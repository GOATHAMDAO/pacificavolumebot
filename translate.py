#!/usr/bin/env python3
# -*- coding: utf-8 -*-
"""Simple script to translate Russian strings to English in pacifica_bot.py"""

import re

# Read the original file
with open('pacifica_bot.py', 'r', encoding='utf-8') as f:
    content = f.read()

# Simple translation function for common patterns
def translate_text(text):
    """Translate Russian text to English"""
    # This is a simplified approach - in reality you'd want a proper translation
    # For now, we'll do key replacements
    
    # Common patterns
    replacements = {
        '–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è': 'Initialization',
        '–∫–ª–∏–µ–Ω—Ç–æ–≤': 'clients',
        '–ó–∞–∫—Ä—ã—Ç–∏–µ': 'Closing',
        '—Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π': 'connections',
        '–ü–æ–ª—É—á–µ–Ω–∏–µ': 'Getting',
        '–∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏': 'information',
        '–æ–±': 'about',
        '–∞–∫–∫–∞—É–Ω—Ç–µ': 'account',
        '–¥–æ—Å—Ç—É–ø–Ω–æ–≥–æ': 'available',
        '–±–∞–ª–∞–Ω—Å–∞': 'balance',
        '—Å–ø–∏—Å–∫–∞': 'list',
        '—Ä—ã–Ω–∫–æ–≤': 'markets',
        '—Ç–µ–∫—É—â–∏—Ö': 'current',
        '—Ü–µ–Ω': 'prices',
        '—Ç–∞–π–º–∞—É—Ç–æ–º': 'with timeout',
        '–ø–æ–≤—Ç–æ—Ä–Ω—ã–º–∏': 'with retry',
        '–ø–æ–ø—ã—Ç–∫–∞–º–∏': 'attempts',
        '–û—à–∏–±–∫–∞': 'Error',
        '–ù–µ —É–¥–∞–ª–æ—Å—å': 'Failed to',
        '–ü–æ–ø—ã—Ç–∫–∞': 'Attempt',
        '—á–µ—Ä–µ–∑': 'via',
        '–Ω–µ —É–¥–∞–ª–∞—Å—å': 'failed',
        '–Ω–∞—Å—Ç—Ä–æ–µ–Ω': 'configured',
        '–ø–æ–¥–ø–∏—Å—å—é': 'with signature',
        '–∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã—Ö': 'authorized',
        '–∑–∞–ø—Ä–æ—Å–æ–≤': 'requests',
        '–∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω—ã': 'initialized',
        '–Ω–µ –∏–º–µ–µ—Ç': 'does not have',
        '–∫': 'to',
        '–ø—Ä–∏–≤–∞—Ç–Ω—ã–º': 'private',
        '—ç–Ω–¥–ø–æ–∏–Ω—Ç–∞–º': 'endpoints',
        '–º–æ–≥—É—Ç': 'may',
        '–Ω–µ —Ä–∞–±–æ—Ç–∞—Ç—å': 'not work',
    }
    
    # Apply replacements
    for ru, en in replacements.items():
        text = text.replace(ru, en)
    
    return text

# For now, let's just do a simple find-replace for the most common patterns
# We'll need to do this more systematically

# Replace docstrings
content = re.sub(r'"""–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∫–ª–∏–µ–Ω—Ç–æ–≤"""', '"""Initializing clients"""', content)
content = re.sub(r'"""–ó–∞–∫—Ä—ã—Ç–∏–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π"""', '"""Closing connections"""', content)
content = re.sub(r'"""–ü–æ–ª—É—á–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ–± –∞–∫–∫–∞—É–Ω—Ç–µ"""', '"""Getting account information"""', content)
content = re.sub(r'"""–ü–æ–ª—É—á–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–Ω–æ–≥–æ –±–∞–ª–∞–Ω—Å–∞"""', '"""Getting available balance"""', content)
content = re.sub(r'"""–ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ —Ä—ã–Ω–∫–æ–≤"""', '"""Getting list of markets"""', content)
content = re.sub(r'"""–ü–æ–ª—É—á–µ–Ω–∏–µ —Ç–µ–∫—É—â–∏—Ö —Ü–µ–Ω —Å —Ç–∞–π–º–∞—É—Ç–æ–º –∏ –ø–æ–≤—Ç–æ—Ä–Ω—ã–º–∏ –ø–æ–ø—ã—Ç–∫–∞–º–∏"""', '"""Getting current prices with timeout and retries"""', content)
content = re.sub(r'"""–ü–æ–ª—É—á–µ–Ω–∏–µ —Ç–µ–∫—É—â–µ–π —Ü–µ–Ω—ã –¥–ª—è —Å–∏–º–≤–æ–ª–∞"""', '"""Getting current price for symbol"""', content)
content = re.sub(r'"""–ü–æ–ª—É—á–µ–Ω–∏–µ funding rate –¥–ª—è —Å–∏–º–≤–æ–ª–∞"""', '"""Getting funding rate for symbol"""', content)
content = re.sub(r'"""–ü–æ–ª—É—á–µ–Ω–∏–µ tick size –¥–ª—è —Å–∏–º–≤–æ–ª–∞"""', '"""Getting tick size for symbol"""', content)
content = re.sub(r'"""–ü–æ–ª—É—á–µ–Ω–∏–µ lot size \(–º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä –æ—Ä–¥–µ—Ä–∞\) –¥–ª—è —Å–∏–º–≤–æ–ª–∞"""', '"""Getting lot size (minimum order size) for symbol"""', content)
content = re.sub(r'"""–û–∫—Ä—É–≥–ª–µ–Ω–∏–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –¥–æ –∫—Ä–∞—Ç–Ω–æ–≥–æ lot size"""', '"""Rounding amount to lot size multiple"""', content)
content = re.sub(r'"""–û–∫—Ä—É–≥–ª–µ–Ω–∏–µ —Ü–µ–Ω—ã –¥–æ –∫—Ä–∞—Ç–Ω–æ–≥–æ tick size"""', '"""Rounding price to tick size multiple"""', content)
content = re.sub(r'"""–ü–æ–ª—É—á–µ–Ω–∏–µ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–≥–æ –ø–ª–µ—á–∞ –¥–ª—è —Ä—ã–Ω–∫–∞"""', '"""Getting maximum leverage for market"""', content)
content = re.sub(r'"""–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–ª–µ—á–∞ –¥–ª—è —Ä—ã–Ω–∫–∞\s+–î–ª—è –æ—Ç–∫—Ä—ã—Ç—ã—Ö –ø–æ–∑–∏—Ü–∏–π –º–æ–∂–Ω–æ —Ç–æ–ª—å–∫–æ —É–≤–µ–ª–∏—á–∏–≤–∞—Ç—å –ø–ª–µ—á–æ"""', '"""Setting leverage for market\n        \n        For open positions, leverage can only be increased"""', content)
content = re.sub(r'"""–ü–æ–ª—É—á–µ–Ω–∏–µ –æ—Ç–∫—Ä—ã—Ç—ã—Ö –ø–æ–∑–∏—Ü–∏–π —Å –ø–æ–≤—Ç–æ—Ä–Ω—ã–º–∏ –ø–æ–ø—ã—Ç–∫–∞–º–∏"""', '"""Getting open positions with retries"""', content)
content = re.sub(r'"""–†–∞–∑–º–µ—â–µ–Ω–∏–µ –æ—Ä–¥–µ—Ä–∞\s+Args:.*?reduce_only: –¢–æ–ª—å–∫–æ –¥–ª—è –∑–∞–∫—Ä—ã—Ç–∏—è –ø–æ–∑–∏—Ü–∏–∏\s+"""', '"""Placing order\n        \n        Args:\n            symbol: Trading symbol (e.g. "BTC")\n            side: Side.BID (buy) or Side.ASK (sell)\n            size_usd: Position size in USD\n            price: Price for limit order (if None - market order)\n            reduce_only: Only for closing position\n        """', content, flags=re.DOTALL)
content = re.sub(r'"""–û—Ç–º–µ–Ω–∞ –æ—Ä–¥–µ—Ä–∞"""', '"""Canceling order"""', content)
content = re.sub(r'"""–ü–æ–ª—É—á–µ–Ω–∏–µ –æ—Ç–∫—Ä—ã—Ç—ã—Ö –æ—Ä–¥–µ—Ä–æ–≤"""', '"""Getting open orders"""', content)
content = re.sub(r'"""–û—Ç–º–µ–Ω–∞ –≤—Å–µ—Ö –æ—Ä–¥–µ—Ä–æ–≤"""', '"""Canceling all orders"""', content)
content = re.sub(r'"""–ó–∞–∫—Ä—ã—Ç–∏–µ –≤—Å–µ—Ö –æ—Ç–∫—Ä—ã—Ç—ã—Ö –ø–æ–∑–∏—Ü–∏–π\s+Returns:.*?False –µ—Å–ª–∏ –æ—à–∏–±–∫–∞\s+"""', '"""Closing all open positions\n        \n        Returns:\n            True if all positions closed or there were none, False if error\n        """', content, flags=re.DOTALL)
content = re.sub(r'"""–û—á–∏—Å—Ç–∫–∞ –ø–µ—Ä–µ–¥ –Ω–æ–≤–æ–π —Å–¥–µ–ª–∫–æ–π:.*?–ó–∞–∫—Ä—ã–≤–∞–µ—Ç –≤—Å–µ –æ—Ç–∫—Ä—ã—Ç—ã–µ –ø–æ–∑–∏—Ü–∏–∏\s+"""', '"""Cleaning up before new trade:\n        - Cancels all open orders\n        - Closes all open positions\n        """', content, flags=re.DOTALL)
content = re.sub(r'"""–ó–∞–∫—Ä—ã—Ç–∏–µ –ø–æ–∑–∏—Ü–∏–∏"""', '"""Closing position"""', content)
content = re.sub(r'"""–£—Å—Ç–∞–Ω–æ–≤–∫–∞ Take Profit –∏ Stop Loss –¥–ª—è –ø–æ–∑–∏—Ü–∏–∏ —á–µ—Ä–µ–∑ API"""', '"""Setting Take Profit and Stop Loss for position via API"""', content)
content = re.sub(r'"""–í—ã–±–æ—Ä –ª—É—á—à–µ–≥–æ —Ä—ã–Ω–∫–∞ –Ω–∞ –æ—Å–Ω–æ–≤–µ funding rate"""', '"""Selecting best market based on funding rate"""', content)
content = re.sub(r'"""–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è –Ω–∞ –æ—Å–Ω–æ–≤–µ funding rate"""', '"""Determining direction based on funding rate"""', content)
content = re.sub(r'"""–û–¥–∏–Ω —Ü–∏–∫–ª —Ç–æ—Ä–≥–æ–≤–ª–∏\s+Returns:.*?False –∏–Ω–∞—á–µ\s+"""', '"""One trading cycle\n        \n        Returns:\n            True if target volume reached, False otherwise\n        """', content, flags=re.DOTALL)
content = re.sub(r'"""–û–∂–∏–¥–∞–Ω–∏–µ –∏—Å–ø–æ–ª–Ω–µ–Ω–∏—è –æ—Ä–¥–µ—Ä–∞ –∏ –ø–æ–ª—É—á–µ–Ω–∏–µ —Ä–µ–∞–ª—å–Ω–æ–π —Ü–µ–Ω—ã\s+–°—Ç—Ä–æ–≥–æ –ø–æ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ Pacifica:.*?3\. Get order history by ID - –∏—Å—Ç–æ—Ä–∏—è –æ—Ä–¥–µ—Ä–∞\s+"""', '"""Waiting for order execution and getting real price\n        \n        Strictly according to Pacifica documentation:\n        https://docs.pacifica.fi/api-documentation/api/rest-api/orders\n        \n        Checks:\n        1. Get open orders - open orders\n        2. Get account positions - open positions\n        3. Get order history by ID - order history\n        """', content, flags=re.DOTALL)
content = re.sub(r'"""–£–¥–µ—Ä–∂–∞–Ω–∏–µ –ø–æ–∑–∏—Ü–∏–∏ —Å –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–æ–º"""', '"""Holding position with monitoring"""', content)
content = re.sub(r'"""–†–∞—Å—á–µ—Ç PnL"""', '"""Calculating PnL"""', content)
content = re.sub(r'"""–ó–∞–ø—É—Å–∫ –±–æ—Ç–∞"""', '"""Starting bot"""', content)
content = re.sub(r'"""–ì–ª–∞–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è"""', '"""Main function"""', content)

# Replace logger messages - this is a simplified version
# In reality, you'd want to translate each message individually
logger_patterns = [
    (r'–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è Pacifica –∫–ª–∏–µ–Ω—Ç–æ–≤\.\.\.', 'Initializing Pacifica clients...'),
    (r'‚úì Info –Ω–∞—Å—Ç—Ä–æ–µ–Ω —Å –ø–æ–¥–ø–∏—Å—å—é –¥–ª—è –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã—Ö GET –∑–∞–ø—Ä–æ—Å–æ–≤', '‚úì Info configured with signature for authorized GET requests'),
    (r'‚ö† Exchange –Ω–µ –∏–º–µ–µ—Ç keypair - GET –∑–∞–ø—Ä–æ—Å—ã –∫ –ø—Ä–∏–≤–∞—Ç–Ω—ã–º —ç–Ω–¥–ø–æ–∏–Ω—Ç–∞–º –º–æ–≥—É—Ç –Ω–µ —Ä–∞–±–æ—Ç–∞—Ç—å', '‚ö† Exchange does not have keypair - GET requests to private endpoints may not work'),
    (r'‚úì –ö–ª–∏–µ–Ω—Ç—ã –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω—ã', '‚úì Clients initialized'),
    (r'–ü–æ–ø—ã—Ç–∫–∞ —á–µ—Ä–µ–∑ Info –Ω–µ —É–¥–∞–ª–∞—Å—å:', 'Attempt via Info failed:'),
    (r'–û—à–∏–±–∫–∞ HTTP (\d+):', r'HTTP error \1:'),
    (r'–û—à–∏–±–∫–∞ –ø–æ–ª—É—á–µ–Ω–∏—è –∞–∫–∫–∞—É–Ω—Ç–∞:', 'Error getting account:'),
    (r'–û—à–∏–±–∫–∞ –ø–æ–ª—É—á–µ–Ω–∏—è —Ä—ã–Ω–∫–æ–≤:', 'Error getting markets:'),
    (r'–ó–∞–ø—Ä–æ—Å —Ü–µ–Ω —á–µ—Ä–µ–∑ API \(–ø–æ–ø—ã—Ç–∫–∞ (\d+)/(\d+)\)\.\.\.', r'Requesting prices via API (attempt \1/\2)...'),
    (r'‚úì –ü–æ–ª—É—á–µ–Ω–æ —Ü–µ–Ω: (\d+)', r'‚úì Received prices: \1'),
    (r'–ü—É—Å—Ç–æ–π –æ—Ç–≤–µ—Ç –æ—Ç API \(–ø–æ–ø—ã—Ç–∫–∞ (\d+)/(\d+)\)', r'Empty response from API (attempt \1/\2)'),
    (r'–¢–∞–π–º–∞—É—Ç –ø–æ–ª—É—á–µ–Ω–∏—è —Ü–µ–Ω \(–ø–æ–ø—ã—Ç–∫–∞ (\d+)/(\d+)\)', r'Timeout getting prices (attempt \1/\2)'),
    (r'–û—à–∏–±–∫–∞ –ø–æ–ª—É—á–µ–Ω–∏—è —Ü–µ–Ω \(–ø–æ–ø—ã—Ç–∫–∞ (\d+)/(\d+)\):', r'Error getting prices (attempt \1/\2):'),
    (r'CloudFront –±–ª–æ–∫–∏—Ä—É–µ—Ç, –∂–¥—ë–º (\d+)—Å\.\.\.', r'CloudFront is blocking, waiting \1s...'),
    (r'–ù–µ —É–¥–∞–ª–æ—Å—å –ø–æ–ª—É—á–∏—Ç—å —Ü–µ–Ω—ã –ø–æ—Å–ª–µ –≤—Å–µ—Ö –ø–æ–ø—ã—Ç–æ–∫', 'Failed to get prices after all attempts'),
    (r'–¶–µ–Ω–∞ ([A-Z]+): \$([\d.]+)', r'Price \1: $\2'),
    (r'–¶–µ–Ω–∞ ([A-Z]+) –Ω–µ –Ω–∞–π–¥–µ–Ω–∞ –≤ prices, –ø—Ä–æ–±—É–µ–º —á–µ—Ä–µ–∑ markets\.\.\.', r'Price \1 not found in prices, trying via markets...'),
    (r'–¶–µ–Ω–∞ ([A-Z]+) –∏–∑ markets: \$([\d.]+)', r'Price \1 from markets: $\2'),
    (r'–û—à–∏–±–∫–∞ –ø–æ–ª—É—á–µ–Ω–∏—è —Ü–µ–Ω—ã —á–µ—Ä–µ–∑ markets:', 'Error getting price via markets:'),
    (r'–ù–µ —É–¥–∞–ª–æ—Å—å –ø–æ–ª—É—á–∏—Ç—å —Ü–µ–Ω—É –¥–ª—è ([A-Z]+)', r'Failed to get price for \1'),
    (r'–ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –ø–ª–µ—á–æ –¥–ª—è ([A-Z]+): (\d+)x', r'Maximum leverage for \1: \2x'),
    (r'–û—à–∏–±–∫–∞ –ø–æ–ª—É—á–µ–Ω–∏—è –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–≥–æ –ø–ª–µ—á–∞ –¥–ª—è ([A-Z]+):', r'Error getting maximum leverage for \1:'),
    (r'–ù–∞–π–¥–µ–Ω–∞ –æ—Ç–∫—Ä—ã—Ç–∞—è –ø–æ–∑–∏—Ü–∏—è ([A-Z]+) —Å –ø–ª–µ—á–æ–º (\d+)x', r'Found open position \1 with leverage \2x'),
    (r'‚ö† –î–ª—è –æ—Ç–∫—Ä—ã—Ç–æ–π –ø–æ–∑–∏—Ü–∏–∏ ([A-Z]+) –º–æ–∂–Ω–æ —Ç–æ–ª—å–∫–æ –£–í–ï–õ–ò–ß–ò–í–ê–¢–¨ –ø–ª–µ—á–æ\. –¢–µ–∫—É—â–µ–µ: (\d+)x, –∑–∞–ø—Ä–æ—à–µ–Ω–Ω–æ–µ: (\d+)x\. –ò—Å–ø–æ–ª—å–∑—É–µ–º —Ç–µ–∫—É—â–µ–µ (\d+)x', r'‚ö† For open position \1 leverage can only be INCREASED. Current: \2x, requested: \3x. Using current \4x'),
    (r'–ü–ª–µ—á–æ ([A-Z]+) —É–∂–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ –Ω–∞ (\d+)x', r'Leverage \1 already set to \2x'),
    (r'–ü–ª–µ—á–æ (\d+)x –ø—Ä–µ–≤—ã—à–∞–µ—Ç –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –¥–ª—è ([A-Z]+) \((\d+)x\)\. –ò—Å–ø–æ–ª—å–∑—É–µ–º (\d+)x', r'Leverage \1x exceeds maximum for \2 (\3x). Using \4x'),
    (r'–ü–ª–µ—á–æ (\d+)x —Å–ª–∏—à–∫–æ–º –º–∞–ª–æ –¥–ª—è ([A-Z]+)\. –ò—Å–ø–æ–ª—å–∑—É–µ–º –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ 1x', r'Leverage \1x too low for \2. Using minimum 1x'),
    (r'–ù–µ —É–¥–∞–ª–æ—Å—å –ø–æ–ª—É—á–∏—Ç—å –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –ø–ª–µ—á–æ –¥–ª—è ([A-Z]+), –∏—Å–ø–æ–ª—å–∑—É–µ–º –∑–∞–ø—Ä–æ—à–µ–Ω–Ω–æ–µ (\d+)x', r'Failed to get maximum leverage for \1, using requested \2x'),
    (r'‚úì –ü–ª–µ—á–æ (\d+)x —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ –¥–ª—è ([A-Z]+)', r'‚úì Leverage \1x set for \2'),
    (r'‚úó –ù–µ–ª—å–∑—è —É–º–µ–Ω—å—à–∏—Ç—å –ø–ª–µ—á–æ –¥–ª—è –æ—Ç–∫—Ä—ã—Ç–æ–π –ø–æ–∑–∏—Ü–∏–∏ ([A-Z]+)\. –¢–µ–∫—É—â–µ–µ: (\d+)x, –∑–∞–ø—Ä–æ—à–µ–Ω–Ω–æ–µ: (\d+)x', r'‚úó Cannot decrease leverage for open position \1. Current: \2x, requested: \3x'),
    (r'–ü–ª–µ—á–æ (\d+)x –Ω–µ–¥–æ–ø—É—Å—Ç–∏–º–æ –¥–ª—è ([A-Z]+) —Å –æ—Ç–∫—Ä—ã—Ç–æ–π –ø–æ–∑–∏—Ü–∏–µ–π\. –¢–µ–∫—É—â–µ–µ: (\d+)x\. –ü—Ä–æ–±—É–µ–º —É–≤–µ–ª–∏—á–∏—Ç—å\.\.\.', r'Leverage \1x invalid for \2 with open position. Current: \3x. Trying to increase...'),
    (r'–ü—Ä–æ–±—É–µ–º —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø–ª–µ—á–æ (\d+)x –¥–ª—è ([A-Z]+)\.\.\.', r'Trying to set leverage \1x for \2...'),
    (r'‚úì –ü–ª–µ—á–æ (\d+)x —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ –¥–ª—è ([A-Z]+) \(–≤–º–µ—Å—Ç–æ –∑–∞–ø—Ä–æ—à–µ–Ω–Ω–æ–≥–æ (\d+)x\)', r'‚úì Leverage \1x set for \2 (instead of requested \3x)'),
    (r'‚úó –ù–µ —É–¥–∞–ª–æ—Å—å —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –¥–æ–ø—É—Å—Ç–∏–º–æ–µ –ø–ª–µ—á–æ –¥–ª—è ([A-Z]+) —Å –æ—Ç–∫—Ä—ã—Ç–æ–π –ø–æ–∑–∏—Ü–∏–µ–π', r'‚úó Failed to set valid leverage for \1 with open position'),
    (r'–ü–ª–µ—á–æ (\d+)x –Ω–µ–¥–æ–ø—É—Å—Ç–∏–º–æ –¥–ª—è ([A-Z]+) \(–æ—à–∏–±–∫–∞: ([^)]+)\), –ø—Ä–æ–±—É–µ–º —É–º–µ–Ω—å—à–∏—Ç—å\.\.\.', r'Leverage \1x invalid for \2 (error: \3), trying to decrease...'),
    (r'–ü–æ—Å–ª–µ–¥–Ω—è—è –æ—à–∏–±–∫–∞: (.+)', r'Last error: \1'),
    (r'–û—à–∏–±–∫–∞ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –ø–ª–µ—á–∞ –¥–ª—è ([A-Z]+): \[(\d+)\] code=([^ ]+) message=\'([^\']+)\'', r'Error setting leverage for \1: [\2] code=\3 message=\'\4\''),
    (r'–ü–ª–µ—á–æ (\d+)x –Ω–µ–¥–æ–ø—É—Å—Ç–∏–º–æ –¥–ª—è ([A-Z]+), –ø—Ä–æ–±—É–µ–º —É–º–µ–Ω—å—à–∏—Ç—å\.\.\.', r'Leverage \1x invalid for \2, trying to decrease...'),
    (r'–û–±–Ω–æ–≤–ª—è–µ–º —Ç–µ–∫—É—â–µ–µ –ø–ª–µ—á–æ –¥–ª—è —ç—Ç–æ–≥–æ —Ä—ã–Ω–∫–∞', 'Updating current leverage for this market'),
    (r'‚úó –ù–µ —É–¥–∞–ª–æ—Å—å —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –¥–æ–ø—É—Å—Ç–∏–º–æ–µ –ø–ª–µ—á–æ –¥–ª—è ([A-Z]+): (.+)', r'‚úó Failed to set valid leverage for \1: \2'),
    (r'–û—à–∏–±–∫–∞ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –ø–ª–µ—á–∞ –¥–ª—è ([A-Z]+): (.+)', r'Error setting leverage for \1: \2'),
    (r'Traceback:', 'Traceback:'),
    (r'‚úì –ü–æ–ª—É—á–µ–Ω–æ –ø–æ–∑–∏—Ü–∏–π: (\d+)', r'‚úì Received positions: \1'),
    (r'–ü–æ–∑–∏—Ü–∏—è: ([A-Z]+), amount=([^,]+), entry_price=([^)]+)', r'Position: \1, amount=\2, entry_price=\3'),
    (r'CloudFront –±–ª–æ–∫–∏—Ä—É–µ—Ç \(–ø–æ–ø—ã—Ç–∫–∞ (\d+)/(\d+)\), –∂–¥—ë–º ([\d.]+)—Å\.\.\.', r'CloudFront is blocking (attempt \1/\2), waiting \3s...'),
    (r'CloudFront –±–ª–æ–∫–∏—Ä—É–µ—Ç –ø–æ—Å–ª–µ (\d+) –ø–æ–ø—ã—Ç–æ–∫, –≤–æ–∑–≤—Ä–∞—â–∞–µ–º –ø—É—Å—Ç–æ–π —Å–ø–∏—Å–æ–∫', r'CloudFront is blocking after \1 attempts, returning empty list'),
    (r'–û—à–∏–±–∫–∞ –ø–æ–ª—É—á–µ–Ω–∏—è –ø–æ–∑–∏—Ü–∏–π:', 'Error getting positions:'),
    (r'–†–∞–∑–º–µ—Ä –æ–∫—Ä—É–≥–ª—ë–Ω –¥–æ lot size ([\d.]+): ([\d.]+) ([A-Z]+)', r'Size rounded to lot size \1: \2 \3'),
    (r'–†–∞–∑–º–µ—Ä –æ—Ä–¥–µ—Ä–∞ —Å–ª–∏—à–∫–æ–º –º–∞–ª: ([\d.]+)', r'Order size too small: \1'),
    (r'‚úì –û—Ä–¥–µ—Ä —Ä–∞–∑–º–µ—â–µ–Ω: (.+) ([\d.]+) ([A-Z]+) \(\$([\d.]+)\)', r'‚úì Order placed: \1 \2 \3 ($\4)'),
    (r'–û—à–∏–±–∫–∞ —Ä–∞–∑–º–µ—â–µ–Ω–∏—è –æ—Ä–¥–µ—Ä–∞:', 'Error placing order:'),
    (r'‚úì –û—Ä–¥–µ—Ä #(\d+) –æ—Ç–º–µ–Ω—ë–Ω', r'‚úì Order #\1 cancelled'),
    (r'–û—à–∏–±–∫–∞ –æ—Ç–º–µ–Ω—ã –æ—Ä–¥–µ—Ä–∞ #(\d+):', r'Error canceling order #\1:'),
    (r'–û—à–∏–±–∫–∞ –ø–æ–ª—É—á–µ–Ω–∏—è –æ—Ç–∫—Ä—ã—Ç—ã—Ö –æ—Ä–¥–µ—Ä–æ–≤:', 'Error getting open orders:'),
    (r'–û—Ç–º–µ–Ω–∞ –≤—Å–µ—Ö –æ—Ä–¥–µ—Ä–æ–≤ –¥–ª—è ([A-Z]+)\.\.\.', r'Canceling all orders for \1...'),
    (r'–û—Ç–º–µ–Ω–∞ –≤—Å–µ—Ö –æ—Ä–¥–µ—Ä–æ–≤ –¥–ª—è –≤—Å–µ—Ö —Å–∏–º–≤–æ–ª–æ–≤\.\.\.', 'Canceling all orders for all symbols...'),
    (r'‚úì –û—Ç–º–µ–Ω–µ–Ω–æ –æ—Ä–¥–µ—Ä–æ–≤: (\d+)', r'‚úì Cancelled orders: \1'),
    (r'–ù–µ —É–¥–∞–ª–æ—Å—å –ø–æ–ª—É—á–∏—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ–± –æ—Ç–º–µ–Ω—ë–Ω–Ω—ã—Ö –æ—Ä–¥–µ—Ä–∞—Ö', 'Failed to get information about cancelled orders'),
    (r'–û—à–∏–±–∫–∞ –æ—Ç–º–µ–Ω—ã –≤—Å–µ—Ö –æ—Ä–¥–µ—Ä–æ–≤:', 'Error canceling all orders:'),
    (r'–ù–µ—Ç –æ—Ç–∫—Ä—ã—Ç—ã—Ö –ø–æ–∑–∏—Ü–∏–π –¥–ª—è –∑–∞–∫—Ä—ã—Ç–∏—è', 'No open positions to close'),
    (r'–ó–∞–∫—Ä—ã—Ç–∏–µ –ø–æ–∑–∏—Ü–∏–∏ ([A-Z]+)\.\.\.', r'Closing position \1...'),
    (r'‚úì –ó–∞–∫—Ä—ã—Ç–æ –ø–æ–∑–∏—Ü–∏–π: (\d+)', r'‚úì Closed positions: \1'),
    (r'–û—à–∏–±–∫–∞ –∑–∞–∫—Ä—ã—Ç–∏—è –≤—Å–µ—Ö –ø–æ–∑–∏—Ü–∏–π:', 'Error closing all positions:'),
    (r'üßπ –û—á–∏—Å—Ç–∫–∞ –ø–µ—Ä–µ–¥ –Ω–æ–≤–æ–π —Å–¥–µ–ª–∫–æ–π\.\.\.', 'üßπ Cleaning up before new trade...'),
    (r'‚úì –û—á–∏—Å—Ç–∫–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞', '‚úì Cleanup completed'),
    (r'–ù–µ —É–¥–∞–ª–æ—Å—å –ø–æ–ª—É—á–∏—Ç—å —Ü–µ–Ω—É –¥–ª—è –∑–∞–∫—Ä—ã—Ç–∏—è –ø–æ–∑–∏—Ü–∏–∏ ([A-Z]+)', r'Failed to get price for closing position \1'),
    (r'–ó–∞–∫—Ä—ã—Ç–∏–µ –ø–æ–∑–∏—Ü–∏–∏ ([A-Z]+): –ø–æ–∑–∏—Ü–∏—è (.+), –∑–∞–∫—Ä—ã–≤–∞–µ–º —á–µ—Ä–µ–∑ (.+), —Ä–∞–∑–º–µ—Ä: ([\d.]+) \(([\d.]+) USD\)', r'Closing position \1: position \2, closing via \3, size: \4 (\5 USD)'),
    (r'–ü–æ–∑–∏—Ü–∏—è ([A-Z]+) –∑–∞–∫—Ä—ã—Ç–∞, –ø—Ä–æ–≤–µ—Ä—è–µ–º –æ—Ç–∫—Ä—ã—Ç—ã–µ –æ—Ä–¥–µ—Ä–∞\.\.\.', r'Position \1 closed, checking open orders...'),
    (r'–ù–∞–π–¥–µ–Ω–æ (\d+) –æ—Ç–∫—Ä—ã—Ç—ã—Ö –æ—Ä–¥–µ—Ä–æ–≤ –¥–ª—è ([A-Z]+), –æ—Ç–º–µ–Ω—è–µ–º\.\.\.', r'Found \1 open orders for \2, cancelling...'),
    (r'‚úì –û—Ä–¥–µ—Ä #(\d+) –æ—Ç–º–µ–Ω—ë–Ω', r'‚úì Order #\1 cancelled'),
    (r'–ù–µ —É–¥–∞–ª–æ—Å—å –æ—Ç–º–µ–Ω–∏—Ç—å –æ—Ä–¥–µ—Ä #(\d+):', r'Failed to cancel order #\1:'),
    (r'–ù–µ—Ç –æ—Ç–∫—Ä—ã—Ç—ã—Ö –æ—Ä–¥–µ—Ä–æ–≤ –¥–ª—è ([A-Z]+)', r'No open orders for \1'),
    (r'–ü–æ–∑–∏—Ü–∏–∏ ([A-Z]+) –Ω–µ—Ç, –Ω–æ –Ω–∞–π–¥–µ–Ω–æ (\d+) –æ—Ç–∫—Ä—ã—Ç—ã—Ö –æ—Ä–¥–µ—Ä–æ–≤, –æ—Ç–º–µ–Ω—è–µ–º\.\.\.', r'Position \1 not found, but found \2 open orders, cancelling...'),
    (r'–°—Ç–æ—Ä–æ–Ω–∞ –ø–æ–∑–∏—Ü–∏–∏ –Ω–µ —Å–æ–≤–ø–∞–¥–∞–µ—Ç: –æ–∂–∏–¥–∞–ª–∏ (.+), –ø–æ–ª—É—á–∏–ª–∏ (.+)', r'Position side does not match: expected \1, got \2'),
    (r'–ü–æ–∑–∏—Ü–∏—è ([A-Z]+) –Ω–µ –Ω–∞–π–¥–µ–Ω–∞, –Ω–µ –º–æ–∂–µ–º —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å TP/SL', r'Position \1 not found, cannot set TP/SL'),
    (r'–ù–µ —É–¥–∞–ª–æ—Å—å –ø–æ–ª—É—á–∏—Ç—å tick_size –¥–ª—è ([A-Z]+), –∏—Å–ø–æ–ª—å–∑—É–µ–º –æ–∫—Ä—É–≥–ª–µ–Ω–∏–µ –¥–æ 2 –∑–Ω–∞–∫–æ–≤', r'Failed to get tick_size for \1, using rounding to 2 decimal places'),
    (r'–†–∞—Å—á—ë—Ç TP/SL –¥–ª—è ([A-Z]+) \((.+)\): Entry=([\d.]+), TP=([\d.]+), SL=([\d.]+)', r'Calculating TP/SL for \1 (\2): Entry=\3, TP=\4, SL=\5'),
    (r'–û—Ç–ø—Ä–∞–≤–∫–∞ –∑–∞–ø—Ä–æ—Å–∞ TP/SL: symbol=([A-Z]+), –ø–æ–∑–∏—Ü–∏—è=(.+), —Å—Ç–æ–ø-–æ—Ä–¥–µ—Ä–∞=(.+)', r'Sending TP/SL request: symbol=\1, position=\2, stop orders=\3'),
    (r'‚úì TP/SL —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –¥–ª—è ([A-Z]+) \((.+)\): TP @ ([\d.]+) \(\+([\d.]+)%\), SL @ ([\d.]+) \(-([\d.]+)%\)', r'‚úì TP/SL set for \1 (\2): TP @ \3 (+\4%), SL @ \5 (-\6%)'),
    (r'‚ö† –ù–µ —É–¥–∞–ª–æ—Å—å —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å TP/SL –¥–ª—è ([A-Z]+): (.+)', r'‚ö† Failed to set TP/SL for \1: \2'),
    (r'–ü—É—Å—Ç–æ–π –æ—Ç–≤–µ—Ç –æ—Ç API –ø—Ä–∏ —É—Å—Ç–∞–Ω–æ–≤–∫–µ TP/SL –¥–ª—è ([A-Z]+)', r'Empty response from API when setting TP/SL for \1'),
    (r'API –æ—à–∏–±–∫–∞ –ø—Ä–∏ —É—Å—Ç–∞–Ω–æ–≤–∫–µ TP/SL –¥–ª—è ([A-Z]+): \[(\d+)\] code=([^ ]+) message=\'([^\']+)\' data=(.+)', r'API error when setting TP/SL for \1: [\2] code=\3 message=\'\4\' data=\5'),
    (r'Server –æ—à–∏–±–∫–∞ –ø—Ä–∏ —É—Å—Ç–∞–Ω–æ–≤–∫–µ TP/SL –¥–ª—è ([A-Z]+): (.+)', r'Server error when setting TP/SL for \1: \2'),
    (r'–û—à–∏–±–∫–∞ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ TP/SL –¥–ª—è ([A-Z]+): (.+)', r'Error setting TP/SL for \1: \2'),
    (r'–û—à–∏–±–∫–∞ –∞–Ω–∞–ª–∏–∑–∞ ([A-Z]+):', r'Error analyzing \1:'),
    (r'–ù–µ —É–¥–∞–ª–æ—Å—å –ø–æ–ª—É—á–∏—Ç—å funding rate –¥–ª—è ([A-Z]+)', r'Failed to get funding rate for \1'),
    (r'Funding rate –¥–ª—è ([A-Z]+): ([\d.]+) \(([\d.]+)%\)', r'Funding rate for \1: \2 (\3%)'),
    (r'Funding rate –ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω—ã–π, –æ—Ç–∫—Ä—ã–≤–∞–µ–º SHORT \(–ø–æ–ª—É—á–∞–µ–º funding\)', 'Funding rate positive, opening SHORT (receiving funding)'),
    (r'Funding rate –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–π, –æ—Ç–∫—Ä—ã–≤–∞–µ–º LONG \(–ø–æ–ª—É—á–∞–µ–º funding\)', 'Funding rate negative, opening LONG (receiving funding)'),
    (r'–ù–µ—Ç –¥–æ—Å—Ç—É–ø–Ω—ã—Ö —Ä—ã–Ω–∫–æ–≤', 'No available markets'),
    (r'–í—ã–±—Ä–∞–Ω —Ä—ã–Ω–æ–∫: ([A-Z]+)', r'Selected market: \1'),
    (r'–ù–µ —É–¥–∞–ª–æ—Å—å –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–ª—è ([A-Z]+)', r'Failed to determine direction for \1'),
    (r'–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Å—Ä–µ–¥—Å—Ç–≤ –∏–ª–∏ –±–∞–ª–∞–Ω—Å –Ω–µ –ø–æ–ª—É—á–µ–Ω', 'Insufficient funds or balance not received'),
    (r'–ù–µ —É–¥–∞–ª–æ—Å—å –ø–æ–ª—É—á–∏—Ç—å —Ü–µ–Ω—É –¥–ª—è ([A-Z]+)', r'Failed to get price for \1'),
    (r'–†–∞–∑–º–µ—Ä –ø–æ–∑–∏—Ü–∏–∏: ([\d.]+)% –æ—Ç –±–∞–ª–∞–Ω—Å–∞ \(\$([\d.]+) –±–µ–∑ –ø–ª–µ—á–∞ ‚Üí \$([\d.]+) —Å –ø–ª–µ—á–æ–º (\d+)x\)', r'Position size: \1% of balance ($\2 without leverage ‚Üí $\3 with leverage \4x)'),
    (r'–†–∞–∑–º–µ—Ä –ø–æ–∑–∏—Ü–∏–∏ —É–º–µ–Ω—å—à–µ–Ω –¥–æ ([\d.]+)% \(\$([\d.]+) –±–µ–∑ –ø–ª–µ—á–∞, \$([\d.]+) —Å –ø–ª–µ—á–æ–º (\d+)x\)', r'Position size decreased to \1% ($\2 without leverage, $\3 with leverage \4x)'),
    (r'–õ–∏–º–∏—Ç–Ω–∞—è —Ü–µ–Ω–∞: ([\d.]+) \(—Ç–µ–∫—É—â–∞—è: ([\d.]+), –æ—Ç—Å—Ç—É–ø: ([\d.]+)%\)', r'Limit price: \1 (current: \2, offset: \3%)'),
    (r'–ù–µ —É–¥–∞–ª–æ—Å—å –æ—Ç–∫—Ä—ã—Ç—å –ø–æ–∑–∏—Ü–∏—é', 'Failed to open position'),
    (r'–û–∂–∏–¥–∞–Ω–∏–µ –∏—Å–ø–æ–ª–Ω–µ–Ω–∏—è –æ—Ä–¥–µ—Ä–∞\.\.\.', 'Waiting for order execution...'),
    (r'‚ùå –û—Ä–¥–µ—Ä –Ω–µ –±—ã–ª –∏—Å–ø–æ–ª–Ω–µ–Ω - –ø–æ–∑–∏—Ü–∏—è –ù–ï –æ—Ç–∫—Ä—ã—Ç–∞', '‚ùå Order was not executed - position NOT opened'),
    (r'–ë–æ—Ç –ø—Ä–æ–ø—É—Å—Ç–∏—Ç —ç—Ç—É —Å–¥–µ–ª–∫—É –∏ –ø–µ—Ä–µ–π–¥—ë—Ç –∫ —Å–ª–µ–¥—É—é—â–µ–π', 'Bot will skip this trade and move to next'),
    (r'‚úì –ü–æ–∑–∏—Ü–∏—è –æ—Ç–∫—Ä—ã—Ç–∞ @ ([\d.]+)', r'‚úì Position opened @ \1'),
    (r'–£—Å—Ç–∞–Ω–æ–≤–∫–∞ Take Profit –∏ Stop Loss —á–µ—Ä–µ–∑ API\.\.\.', 'Setting Take Profit and Stop Loss via API...'),
    (r'‚ö† –ù–µ —É–¥–∞–ª–æ—Å—å —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å TP/SL —á–µ—Ä–µ–∑ API, –±–æ—Ç –±—É–¥–µ—Ç –º–æ–Ω–∏—Ç–æ—Ä–∏—Ç—å –≤—Ä—É—á–Ω—É—é', '‚ö† Failed to set TP/SL via API, bot will monitor manually'),
    (r'–£–¥–µ—Ä–∂–∞–Ω–∏–µ –ø–æ–∑–∏—Ü–∏–∏ (\d+) –º–∏–Ω—É—Ç \(([\d.]+) —Å–µ–∫—É–Ω–¥\)\.\.\.', r'Holding position \1 minutes (\2 seconds)...'),
    (r'–ó–∞–∫—Ä—ã—Ç–∏–µ –ø–æ–∑–∏—Ü–∏–∏ ([A-Z]+)\.\.\.', r'Closing position \1...'),
    (r'–ù–µ —É–¥–∞–ª–æ—Å—å –ø–æ–ª—É—á–∏—Ç—å —Ü–µ–Ω—É –∑–∞–∫—Ä—ã—Ç–∏—è', 'Failed to get closing price'),
    (r'–ù–µ —É–¥–∞–ª–æ—Å—å –∑–∞–∫—Ä—ã—Ç—å –ø–æ–∑–∏—Ü–∏—é', 'Failed to close position'),
    (r'‚úì –°–¥–µ–ª–∫–∞ #(\d+) –∑–∞–∫—Ä—ã—Ç–∞ \| Exit: ([\d.]+) \| PnL: \$([\d.]+)', r'‚úì Trade #\1 closed | Exit: \2 | PnL: $\3'),
    (r'–û–±—ä—ë–º —Å–¥–µ–ª–∫–∏: \$([\d.]+) \| –û–±—â–∏–π –æ–±—ä—ë–º: \$([\d.]+) \| –û–±—â–∏–π PnL: \$([\d.]+)', r'Trade volume: $\1 | Total volume: $\2 | Total PnL: $\3'),
    (r'=== –û–∂–∏–¥–∞–Ω–∏–µ –∏—Å–ø–æ–ª–Ω–µ–Ω–∏—è –æ—Ä–¥–µ—Ä–∞ #(\d+) ===', r'=== Waiting for order execution #\1 ==='),
    (r'–†—ã–Ω–æ–∫: ([A-Z]+), –°—Ç–æ—Ä–æ–Ω–∞: (.+), –õ–∏–º–∏—Ç–Ω–∞—è —Ü–µ–Ω–∞: (.+)', r'Market: \1, Side: \2, Limit price: \3'),
    (r'Market –æ—Ä–¥–µ—Ä - –ø—Ä–æ–≤–µ—Ä—è–µ–º –∏—Å–ø–æ–ª–Ω–µ–Ω–∏–µ\.\.\.', 'Market order - checking execution...'),
    (r'‚úì Market –æ—Ä–¥–µ—Ä –∏—Å–ø–æ–ª–Ω–µ–Ω @ ([\d.]+)', r'‚úì Market order executed @ \1'),
    (r'‚úì Market –æ—Ä–¥–µ—Ä –∏—Å–ø–æ–ª–Ω–µ–Ω! –ü–æ–∑–∏—Ü–∏—è: ([\d.]+) ([A-Z]+) @ ([\d.]+)', r'‚úì Market order executed! Position: \1 \2 @ \3'),
    (r'–ú–∞–∫—Å–∏–º—É–º –æ–∂–∏–¥–∞–Ω–∏—è: (\d+)—Å, –ø–µ—Ä–µ—Å—Ç–∞–Ω–æ–≤–∫–∞ —á–µ—Ä–µ–∑: (\d+)—Å', r'Maximum wait: \1s, repositioning via: \2s'),
    (r'–ò–Ω—Ç–µ—Ä–≤–∞–ª –ø—Ä–æ–≤–µ—Ä–∫–∏: (\d+)—Å', r'Check interval: \1s'),
    (r'\[(\d+)—Å\] –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–∑–∏—Ü–∏–π –¥–ª—è ([A-Z]+)\.\.\.', r'[\1s] Checking positions for \2...'),
    (r'–ü–æ–ª—É—á–µ–Ω–æ –ø–æ–∑–∏—Ü–∏–π: (\d+)', r'Received positions: \1'),
    (r'–ü–æ–∑–∏—Ü–∏—è: symbol=([A-Z]+), amount=(.+)', r'Position: symbol=\1, amount=\2'),
    (r'‚úì –ù–∞–π–¥–µ–Ω–∞ –ø–æ–∑–∏—Ü–∏—è –ø–æ ([A-Z]+): amount=(.+)', r'‚úì Found position for \1: amount=\2'),
    (r'‚úì‚úì‚úì –û–†–î–ï–† #(\d+) –ò–°–ü–û–õ–ù–ï–ù! ‚úì‚úì‚úì', r'‚úì‚úì‚úì ORDER #\1 EXECUTED! ‚úì‚úì‚úì'),
    (r'‚ö† –ü–æ–∑–∏—Ü–∏—è –Ω–∞–π–¥–µ–Ω–∞, –Ω–æ amount —Å–ª–∏—à–∫–æ–º –º–∞–ª: (.+)', r'‚ö† Position found, but amount too small: \1'),
    (r'–û—Ç–∫—Ä—ã—Ç—ã—Ö –æ—Ä–¥–µ—Ä–æ–≤: (\d+)', r'Open orders: \1'),
    (r'–û—Ä–¥–µ—Ä #(\d+) –Ω–∞–π–¥–µ–Ω –≤ –æ—Ç–∫—Ä—ã—Ç—ã—Ö –æ—Ä–¥–µ—Ä–∞—Ö', r'Order #\1 found in open orders'),
    (r'–ó–∞–ø–æ–ª–Ω–µ–Ω–∏–µ: filled=([\d.]+), initial=([\d.]+), cancelled=([\d.]+)', r'Filling: filled=\1, initial=\2, cancelled=\3'),
    (r'–û—Å—Ç–∞–ª–æ—Å—å: ([\d.]+) \(([\d.]+)%\)', r'Remaining: \1 (\2%)'),
    (r'‚úì –û—Ä–¥–µ—Ä #(\d+) –ø–æ—á—Ç–∏ –∏—Å–ø–æ–ª–Ω–µ–Ω! @ ([\d.]+)', r'‚úì Order #\1 almost executed! @ \2'),
    (r'‚úì –ü–æ–∑–∏—Ü–∏—è –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∞: ([\d.]+) ([A-Z]+) @ ([\d.]+)', r'‚úì Position confirmed: \1 \2 @ \3'),
    (r'–û—Ä–¥–µ—Ä —á–∞—Å—Ç–∏—á–Ω–æ –∑–∞–ø–æ–ª–Ω–µ–Ω: ([\d.]+)%', r'Order partially filled: \1%'),
    (r'–û—Ä–¥–µ—Ä #(\d+) –Ω–µ –Ω–∞–π–¥–µ–Ω –≤ –æ—Ç–∫—Ä—ã—Ç—ã—Ö –æ—Ä–¥–µ—Ä–∞—Ö', r'Order #\1 not found in open orders'),
    (r'–û—Ä–¥–µ—Ä –Ω–∞–π–¥–µ–Ω –≤ –∏—Å—Ç–æ—Ä–∏–∏', 'Order found in history'),
    (r'‚úì –û—Ä–¥–µ—Ä #(\d+) –∏—Å–ø–æ–ª–Ω–µ–Ω \(–∏–∑ –∏—Å—Ç–æ—Ä–∏–∏\) @ ([\d.]+)', r'‚úì Order #\1 executed (from history) @ \2'),
    (r'–û—à–∏–±–∫–∞ –ø—Ä–æ–≤–µ—Ä–∫–∏ order history:', 'Error checking order history:'),
    (r'CloudFront –±–ª–æ–∫–∏—Ä—É–µ—Ç –æ—Ç–∫—Ä—ã—Ç—ã–µ –æ—Ä–¥–µ—Ä–∞ \(—ç—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ –ø—Ä–∏ rate limiting\), –ø—Ä–æ–¥–æ–ª–∂–∞–µ–º –ø—Ä–æ–≤–µ—Ä–∫—É –ø–æ–∑–∏—Ü–∏–π\.\.\.', 'CloudFront is blocking open orders (this is normal with rate limiting), continuing position check...'),
    (r'–û—à–∏–±–∫–∞ –ø—Ä–æ–≤–µ—Ä–∫–∏ –æ—Ç–∫—Ä—ã—Ç—ã—Ö –æ—Ä–¥–µ—Ä–æ–≤:', 'Error checking open orders:'),
    (r'–õ–æ–≥–∏—Ä—É–µ–º –ø—Ä–æ–≥—Ä–µ—Å—Å –∫–∞–∂–¥—ã–µ 15 —Å–µ–∫—É–Ω–¥', 'Logging progress every 15 seconds'),
    (r'‚è≥ –û–∂–∏–¥–∞–Ω–∏–µ\.\.\. \(–ø—Ä–æ—à–ª–æ: (\d+)—Å, –æ—Å—Ç–∞–ª–æ—Å—å: (.+), –ª–∏–º–∏—Ç–Ω–∞—è —Ü–µ–Ω–∞: ([\d.]+)\)', r'‚è≥ Waiting... (elapsed: \1s, remaining: \2, limit price: \3)'),
    (r'–û—Ä–¥–µ—Ä #(\d+) –Ω–µ –∏—Å–ø–æ–ª–Ω–µ–Ω –∑–∞ (\d+)—Å \(([\d.]+)—Å\) - –ø–µ—Ä–µ—Å—Ç–∞–≤–ª—è–µ–º –±–ª–∏–∂–µ –∫ —Ç–µ–∫—É—â–µ–π —Ü–µ–Ω–µ\.\.\.', r'Order #\1 not executed for \2s (\3s) - repositioning closer to current price...'),
    (r'–ù–æ–≤–∞—è –ª–∏–º–∏—Ç–Ω–∞—è —Ü–µ–Ω–∞: ([\d.]+) \(—Ç–µ–∫—É—â–∞—è: ([\d.]+), –æ—Ç—Å—Ç—É–ø: ([\d.]+)%\)', r'New limit price: \1 (current: \2, offset: \3%)'),
    (r'‚úì –ù–æ–≤—ã–π –æ—Ä–¥–µ—Ä #(\d+) —Ä–∞–∑–º–µ—â—ë–Ω –±–ª–∏–∂–µ –∫ —Ç–µ–∫—É—â–µ–π —Ü–µ–Ω–µ', r'‚úì New order #\1 placed closer to current price'),
    (r'–ù–µ —É–¥–∞–ª–æ—Å—å —Ä–∞–∑–º–µ—Å—Ç–∏—Ç—å –Ω–æ–≤—ã–π –æ—Ä–¥–µ—Ä', 'Failed to place new order'),
    (r'–û–∂–∏–¥–∞–Ω–∏–µ –∏—Å–ø–æ–ª–Ω–µ–Ω–∏—è –æ—Ä–¥–µ—Ä–∞ #(\d+)\.\.\. \(–ª–∏–º–∏—Ç–Ω–∞—è —Ü–µ–Ω–∞: ([\d.]+), –ø—Ä–æ—à–ª–æ: (\d+)—Å, –æ—Å—Ç–∞–ª–æ—Å—å: (.+)\)', r'Waiting for order execution #\1... (limit price: \2, elapsed: \3s, remaining: \4)'),
    (r'CloudFront –±–ª–æ–∫–∏—Ä—É–µ—Ç –∑–∞–ø—Ä–æ—Å—ã \(–ø–æ–ø—ã—Ç–∫–∞ (\d+)\), –ø—Ä–æ–¥–æ–ª–∂–∞–µ–º –ø—Ä–æ–≤–µ—Ä–∫—É\.\.\.', r'CloudFront is blocking requests (attempt \1), continuing check...'),
    (r'–û—à–∏–±–∫–∞ –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø–æ–∑–∏—Ü–∏–π:', 'Error checking positions:'),
    (r'‚ö† –û—Ä–¥–µ—Ä #(\d+) –Ω–µ –∏—Å–ø–æ–ª–Ω–∏–ª—Å—è –∑–∞ (\d+) —Å–µ–∫—É–Ω–¥ \(([\d.]+) –º–∏–Ω—É—Ç\)', r'‚ö† Order #\1 was not executed for \2 seconds (\3 minutes)'),
    (r'–û—Ç–º–µ–Ω—è–µ–º –Ω–µ–∏—Å–ø–æ–ª–Ω–µ–Ω–Ω—ã–π –æ—Ä–¥–µ—Ä #(\d+)\.\.\.', r'Cancelling unexecuted order #\1...'),
    (r'–ü–æ–∑–∏—Ü–∏—è –ù–ï –æ—Ç–∫—Ä—ã—Ç–∞ - –æ—Ä–¥–µ—Ä –æ—Ç–º–µ–Ω—ë–Ω –∏–∑-–∑–∞ —Ç–∞–π–º–∞—É—Ç–∞', 'Position NOT opened - order cancelled due to timeout'),
    (r'–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø–æ–∑–∏—Ü–∏–∏: Entry @ ([\d.]+), Side: (.+)', r'Monitoring position: Entry @ \1, Side: \2'),
    (r'Take Profit: ([\d.]+)%, Stop Loss: ([\d.]+)%', r'Take Profit: \1%, Stop Loss: \2%'),
    (r'–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ: –ï—Å–ª–∏ TP/SL —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –Ω–∞ –±–∏—Ä–∂–µ, –æ–Ω–∏ —Å—Ä–∞–±–æ—Ç–∞—é—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏', 'Note: If TP/SL are set on exchange, they will trigger automatically'),
    (r'‚úì –ü–æ–∑–∏—Ü–∏—è –∑–∞–∫—Ä—ã—Ç–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ \(–≤–µ—Ä–æ—è—Ç–Ω–æ, —á–µ—Ä–µ–∑ TP/SL –Ω–∞ –±–∏—Ä–∂–µ\)', '‚úì Position closed automatically (probably via TP/SL on exchange)'),
    (r'–ù–µ —É–¥–∞–ª–æ—Å—å –ø–æ–ª—É—á–∏—Ç—å —Ç–µ–∫—É—â—É—é —Ü–µ–Ω—É –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞', 'Failed to get current price for monitoring'),
    (r'–ü–æ–∑–∏—Ü–∏—è –∞–∫—Ç–∏–≤–Ω–∞ \| –¶–µ–Ω–∞: ([\d.]+) \| PnL: ([\d.+-]+)% \| –û—Å—Ç–∞–ª–æ—Å—å: (\d+)–º ([\d.]+)—Å', r'Position active | Price: \1 | PnL: \2% | Remaining: \3m \4s'),
    (r'‚úì Take profit –¥–æ—Å—Ç–∏–≥–Ω—É—Ç –ø—Ä–æ–≥—Ä–∞–º–º–Ω–æ! \+([\d.]+)% \(—Ü–µ–ª—å: ([\d.]+)%\)', r'‚úì Take profit reached programmatically! +\1% (target: \2%)'),
    (r'–ó–∞–∫—Ä—ã–≤–∞–µ–º –ø–æ–∑–∏—Ü–∏—é –≤—Ä—É—á–Ω—É—é\.\.\.', 'Closing position manually...'),
    (r'‚úó Stop loss –¥–æ—Å—Ç–∏–≥–Ω—É—Ç –ø—Ä–æ–≥—Ä–∞–º–º–Ω–æ! ([\d.+-]+)% \(–ª–∏–º–∏—Ç: ([\d.]+)%\)', r'‚úó Stop loss reached programmatically! \1% (limit: \2%)'),
    (r'–í—Ä–µ–º—è —É–¥–µ—Ä–∂–∞–Ω–∏—è –∏—Å—Ç–µ–∫–ª–æ \(([\d.]+) –º–∏–Ω—É—Ç\)', r'Hold time expired (\1 minutes)'),
    (r'–ö–æ–º–∏—Å—Å–∏–∏', 'Fees'),
    (r'–†–∞–Ω–¥–æ–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –¥–ª—è –∞–∫–∫–∞—É–Ω—Ç–∞:', 'Randomized parameters for account:'),
    (r'–ü–ª–µ—á–æ: (\d+)x', r'Leverage: \1x'),
    (r'Slippage: ([\d.]+)%', r'Slippage: \1%'),
    (r'Take Profit: ([\d.]+)%', r'Take Profit: \1%'),
    (r'Stop Loss: ([\d.]+)%', r'Stop Loss: \1%'),
    (r'–†–∞–∑–º–µ—Ä –ø–æ–∑–∏—Ü–∏–∏: ([\d.]+)% - ([\d.]+)% –æ—Ç –±–∞–ª–∞–Ω—Å–∞ \(–±–µ–∑ —É—á–µ—Ç–∞ –ø–ª–µ—á–∞\)', r'Position size: \1% - \2% of balance (without leverage)'),
    (r'–ü–ª–µ—á–æ (\d+)x –ø—Ä–µ–≤—ã—à–∞–µ—Ç –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –¥–ª—è –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö —Ä—ã–Ω–∫–æ–≤ \((\d+)x\)\. –ò—Å–ø–æ–ª—å–∑—É–µ–º (\d+)x', r'Leverage \1x exceeds maximum for some markets (\2x). Using \3x'),
    (r'–ü–æ–ø—ã—Ç–∫–∞ (\d+)/(\d+) –ø–æ–ª—É—á–µ–Ω–∏—è –±–∞–ª–∞–Ω—Å–∞, –∂–¥—ë–º (\d+) —Å–µ–∫\.\.\.', r'Attempt \1/\2 getting balance, waiting \3 sec...'),
    (r'‚úì –ë–∞–ª–∞–Ω—Å –ø–æ–ª—É—á–µ–Ω: \$([\d.]+)', r'‚úì Balance received: $\1'),
    (r'‚ùå –ù–µ —É–¥–∞–ª–æ—Å—å –ø–æ–ª—É—á–∏—Ç—å –±–∞–ª–∞–Ω—Å —á–µ—Ä–µ–∑ API –ø–æ—Å–ª–µ –≤—Å–µ—Ö –ø–æ–ø—ã—Ç–æ–∫!', '‚ùå Failed to get balance via API after all attempts!'),
    (r'–ü—Ä–æ–≤–µ—Ä—å—Ç–µ:', 'Check:'),
    (r'–ü—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å API –∫–ª—é—á–µ–π –≤ accounts\.csv', 'Correctness of API keys in accounts.csv'),
    (r'–ë–µ—Ç–∞ –¥–æ—Å—Ç—É–ø –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω –Ω–∞ https://app\.pacifica\.fi', 'Beta access activated on https://app.pacifica.fi'),
    (r'–ù–∞–ª–∏—á–∏–µ —Å—Ä–µ–¥—Å—Ç–≤ –Ω–∞ –±–∞–ª–∞–Ω—Å–µ', 'Presence of funds on balance'),
    (r'–û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –±–æ—Ç–∞ –µ—Å–ª–∏ –Ω–µ—Ç –±–∞–ª–∞–Ω—Å–∞', 'Stopping bot if no balance'),
    (r'–û–±—ä–µ–º: \$([\d.]+) / \$([\d.]+) \(([\d.]+)%\)', r'Volume: $\1 / $\2 (\3%)'),
    (r'PnL: \$([\d.]+) \| –°–¥–µ–ª–æ–∫: (\d+)', r'PnL: $\1 | Trades: \2'),
    (r'–û–∂–∏–¥–∞–Ω–∏–µ (\d+) —Å–µ–∫—É–Ω–¥\.\.\.', r'Waiting \1 seconds...'),
    (r'–û—à–∏–±–∫–∞ –≤ —Ü–∏–∫–ª–µ:', 'Error in cycle:'),
    (r'–¶–µ–ª–µ–≤–æ–π –æ–±—ä–µ–º –¥–æ—Å—Ç–∏–≥–Ω—É—Ç\. –ó–∞–∫—Ä—ã—Ç–∏–µ –≤—Å–µ—Ö –ø–æ–∑–∏—Ü–∏–π –∏ –æ—Ç–º–µ–Ω–∞ –æ—Ä–¥–µ—Ä–æ–≤\.\.\.', 'Target volume reached. Closing all positions and cancelling orders...'),
    (r'–ù–∞–π–¥–µ–Ω–∞ –æ—Ç–∫—Ä—ã—Ç–∞—è –ø–æ–∑–∏—Ü–∏—è ([A-Z]+), –∑–∞–∫—Ä—ã–≤–∞–µ–º\.\.\.', r'Found open position \1, closing...'),
    (r'–ë–æ—Ç –∑–∞–≤–µ—Ä—à–∏–ª —Ä–∞–±–æ—Ç—É', 'Bot completed work'),
    (r'–ò—Ç–æ–≥–æ–≤—ã–π –æ–±—ä–µ–º: \$([\d.]+)', r'Final volume: $\1'),
    (r'–ò—Ç–æ–≥–æ–≤—ã–π PnL: \$([\d.]+)', r'Final PnL: $\1'),
    (r'–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è', 'Setting up logging'),
    (r'–ó–∞–≥—Ä—É–∑–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏', 'Loading configuration'),
    (r'–§–∏–ª—å—Ç—Ä—É–µ–º —Ç–æ–ª—å–∫–æ –Ω—É–∂–Ω—ã–µ –ø–æ–ª—è \(–ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º –Ω–æ–≤—ã–π —Ñ–æ—Ä–º–∞—Ç —Å –¥–∏–∞–ø–∞–∑–æ–Ω–∞–º–∏\)', 'Filtering only needed fields (supporting new format with ranges)'),
    (r'–ù–æ–≤—ã–π —Ñ–æ—Ä–º–∞—Ç —Å –¥–∏–∞–ø–∞–∑–æ–Ω–∞–º–∏', 'New format with ranges'),
    (r'–°—Ç–∞—Ä—ã–π —Ñ–æ—Ä–º–∞—Ç \(–¥–ª—è –æ–±—Ä–∞—Ç–Ω–æ–π —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏\)', 'Old format (for backward compatibility)'),
    (r'–ö–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–µ–º —Å—Ç–∞—Ä—ã–π —Ñ–æ—Ä–º–∞—Ç –≤ –Ω–æ–≤—ã–π \(–µ—Å–ª–∏ –Ω—É–∂–Ω–æ\)', 'Converting old format to new (if needed)'),
    (r'–§–∞–π–ª accounts\.csv –Ω–µ –Ω–∞–π–¥–µ–Ω!', 'File accounts.csv not found!'),
    (r'–ù–µ—Ç –∞–∫–∫–∞—É–Ω—Ç–æ–≤ –≤ accounts\.csv', 'No accounts in accounts.csv'),
    (r'–û–ø—Ä–µ–¥–µ–ª—è–µ–º, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ª–∏ API Agent –∏–ª–∏ –æ—Å–Ω–æ–≤–Ω–æ–π –∫–æ—à–µ–ª–µ–∫', 'Determining if API Agent or main wallet is used'),
    (r'–ï—Å–ª–∏ api_key == walletaddress, –∑–Ω–∞—á–∏—Ç —ç—Ç–æ –æ—Å–Ω–æ–≤–Ω–æ–π –∫–æ—à–µ–ª–µ–∫, –∞ –Ω–µ API Agent', 'If api_key == walletaddress, then this is main wallet, not API Agent'),
    (r'–ï—Å–ª–∏ api_key —Å–æ–≤–ø–∞–¥–∞–µ—Ç —Å main_account, –∑–Ω–∞—á–∏—Ç —ç—Ç–æ –æ—Å–Ω–æ–≤–Ω–æ–π –∫–æ—à–µ–ª–µ–∫, –Ω–µ API Agent', 'If api_key matches main_account, then this is main wallet, not API Agent'),
    (r'–ò—Å–ø–æ–ª—å–∑—É–µ–º API Agent Keys: Agent=(.+), Main=(.+)', r'Using API Agent Keys: Agent=\1, Main=\2'),
    (r'–ò—Å–ø–æ–ª—å–∑—É–µ–º –æ—Å–Ω–æ–≤–Ω–æ–π –∫–æ—à–µ–ª—ë–∫ (.+)', r'Using main wallet \1'),
    (r'–ü—Ä–µ—Ä–≤–∞–Ω–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º', 'Interrupted by user'),
    (r'–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è –æ—à–∏–±–∫–∞:', 'Critical error:'),
]

for pattern, replacement in logger_patterns:
    content = re.sub(pattern, replacement, content)

# Replace comments
comment_patterns = [
    (r'# –ü–ª–µ—á–æ \(—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –∏–∑ –∫–æ–Ω—Ñ–∏–≥–∞\)', '# Leverage (fixed value from config)'),
    (r'# –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞', '# Statistics'),
    (r'# –ö–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–µ–º —Ä–∞–∑–º–µ—Ä –∏–∑ USD –≤ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –±–∞–∑–æ–≤–æ–π –≤–∞–ª—é—Ç—ã', '# Converting size from USD to base currency amount'),
    (r'# –†–∞–∑–º–µ—Ä –≤ –±–∞–∑–æ–≤–æ–π –≤–∞–ª—é—Ç–µ = —Ä–∞–∑–º–µ—Ä –≤ USD / —Ü–µ–Ω–∞', '# Size in base currency = size in USD / price'),
    (r'# –û–∫—Ä—É–≥–ª—è–µ–º –¥–æ lot size', '# Rounding to lot size'),
    (r'# Limit –æ—Ä–¥–µ—Ä \(maker\) - –æ–∫—Ä—É–≥–ª—è–µ–º —Ü–µ–Ω—É –¥–æ tick size', '# Limit order (maker) - rounding price to tick size'),
    (r'# Market –æ—Ä–¥–µ—Ä', '# Market order'),
    (r'# –°–Ω–∞—á–∞–ª–∞ –∑–∞–∫—Ä—ã–≤–∞–µ–º –≤—Å–µ –ø–æ–∑–∏—Ü–∏–∏', '# First closing all positions'),
    (r'# –ñ–¥—ë–º –Ω–µ–º–Ω–æ–≥–æ, —á—Ç–æ–±—ã –ø–æ–∑–∏—Ü–∏–∏ –∑–∞–∫—Ä—ã–ª–∏—Å—å', '# Waiting a bit for positions to close'),
    (r'# –ó–∞—Ç–µ–º –æ—Ç–º–µ–Ω—è–µ–º –≤—Å–µ –æ—Å—Ç–∞–≤—à–∏–µ—Å—è –æ—Ä–¥–µ—Ä–∞ \(–≤–∫–ª—é—á–∞—è reduce-only\)', '# Then cancelling all remaining orders (including reduce-only)'),
    (r'# –ï—â—ë –æ–¥–Ω–∞ –Ω–µ–±–æ–ª—å—à–∞—è –∑–∞–¥–µ—Ä–∂–∫–∞ –¥–ª—è –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –æ–ø–µ—Ä–∞—Ü–∏–π', '# Another small delay for completing operations'),
    (r'# –ñ–¥—ë–º –Ω–µ–º–Ω–æ–≥–æ, —á—Ç–æ–±—ã –æ—Ä–¥–µ—Ä –∏—Å–ø–æ–ª–Ω–∏–ª—Å—è', '# Waiting a bit for order to execute'),
    (r'# –ü—Ä–æ–≤–µ—Ä—è–µ–º, –∑–∞–∫—Ä—ã–ª–∞—Å—å –ª–∏ –ø–æ–∑–∏—Ü–∏—è', '# Checking if position closed'),
    (r'# –ï—Å–ª–∏ –ø–æ–∑–∏—Ü–∏—è –∑–∞–∫—Ä—ã—Ç–∞, –æ—Ç–º–µ–Ω—è–µ–º –≤—Å–µ –æ—Ç–∫—Ä—ã—Ç—ã–µ –æ—Ä–¥–µ—Ä–∞ –¥–ª—è —ç—Ç–æ–≥–æ —Å–∏–º–≤–æ–ª–∞', '# If position closed, cancelling all open orders for this symbol'),
    (r'# –ü–æ–∑–∏—Ü–∏–∏ –Ω–µ—Ç, –Ω–æ –ø—Ä–æ–≤–µ—Ä–∏–º, –Ω–µ—Ç –ª–∏ –æ—Ç–∫—Ä—ã—Ç—ã—Ö –æ—Ä–¥–µ—Ä–æ–≤ –¥–ª—è —ç—Ç–æ–≥–æ —Å–∏–º–≤–æ–ª–∞', '# No position, but checking if there are open orders for this symbol'),
    (r'# –°–Ω–∞—á–∞–ª–∞ –ø—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ –ø–æ–∑–∏—Ü–∏—è –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ –æ—Ç–∫—Ä—ã—Ç–∞', '# First checking that position is really open'),
    (r'# –ü—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ —Å—Ç–æ—Ä–æ–Ω–∞ –ø–æ–∑–∏—Ü–∏–∏ —Å–æ–≤–ø–∞–¥–∞–µ—Ç', '# Checking that position side matches'),
    (r'# –ü—Ä–æ–≤–µ—Ä—è–µ–º –æ–±–∞ –ø–æ–ª—è: funding_rate –∏ next_funding_rate', '# Checking both fields: funding_rate and next_funding_rate'),
    (r'# –õ–æ–≥–∏—Ä—É–µ–º –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏', '# Logging for debugging'),
    (r'# –ò—Å–ø–æ–ª—å–∑—É–µ–º next_funding_rate \(—Å–ª–µ–¥—É—é—â–∏–π funding rate\)', '# Using next_funding_rate (next funding rate)'),
    (r'# —Ç–∞–∫ –∫–∞–∫ –æ–Ω –±–æ–ª–µ–µ –∞–∫—Ç—É–∞–ª–µ–Ω –¥–ª—è –ø—Ä–∏–Ω—è—Ç–∏—è —Ä–µ—à–µ–Ω–∏–π', '# as it is more relevant for decision making'),
    (r'# –û–∫—Ä—É–≥–ª—è–µ–º –≤–Ω–∏–∑ –¥–æ –±–ª–∏–∂–∞–π—à–µ–≥–æ –∫—Ä–∞—Ç–Ω–æ–≥–æ lot_size', '# Rounding down to nearest lot_size multiple'),
    (r'# –£–±–∏—Ä–∞–µ–º –ª–∏—à–Ω–∏–µ –Ω—É–ª–∏', '# Removing extra zeros'),
    (r'# –û–∫—Ä—É–≥–ª—è–µ–º –¥–æ –±–ª–∏–∂–∞–π—à–µ–≥–æ –∫—Ä–∞—Ç–Ω–æ–≥–æ tick_size', '# Rounding to nearest tick_size multiple'),
    (r'# –û–ø—Ä–µ–¥–µ–ª—è–µ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–Ω–∞–∫–æ–≤ –ø–æ—Å–ª–µ –∑–∞–ø—è—Ç–æ–π –∏–∑ tick_size', '# Determining number of decimal places from tick_size'),
    (r'# –§–æ—Ä–º–∞—Ç–∏—Ä—É–µ–º —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º –∑–Ω–∞–∫–æ–≤', '# Formatting with correct number of digits'),
    (r'# –ü—Ä–æ–≤–µ—Ä—è–µ–º, –µ—Å—Ç—å –ª–∏ –æ—Ç–∫—Ä—ã—Ç–∞—è –ø–æ–∑–∏—Ü–∏—è –¥–ª—è —ç—Ç–æ–≥–æ —Å–∏–º–≤–æ–ª–∞', '# Checking if there is open position for this symbol'),
    (r'# –ï—Å—Ç—å –æ—Ç–∫—Ä—ã—Ç–∞—è –ø–æ–∑–∏—Ü–∏—è - –ø–æ–ª—É—á–∞–µ–º —Ç–µ–∫—É—â–µ–µ –ø–ª–µ—á–æ', '# There is open position - getting current leverage'),
    (r'# –ï—Å–ª–∏ –µ—Å—Ç—å –æ—Ç–∫—Ä—ã—Ç–∞—è –ø–æ–∑–∏—Ü–∏—è, –ø—Ä–æ–≤–µ—Ä—è–µ–º –ø—Ä–∞–≤–∏–ª–æ: –º–æ–∂–Ω–æ —Ç–æ–ª—å–∫–æ —É–≤–µ–ª–∏—á–∏–≤–∞—Ç—å', '# If there is open position, checking rule: can only increase'),
    (r'# –ü—Ä–æ–≤–µ—Ä—è–µ–º –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –ø–ª–µ—á–æ –¥–ª—è —Ä—ã–Ω–∫–∞', '# Checking maximum leverage for market'),
    (r'# –ü—Ä–æ–≤–µ—Ä—è–µ–º, –µ—Å—Ç—å –ª–∏ –æ—Ç–∫—Ä—ã—Ç–∞—è –ø–æ–∑–∏—Ü–∏—è', '# Checking if there is open position'),
    (r'# –ï—Å–ª–∏ –æ—à–∏–±–∫–∞ –æ –Ω–µ–¥–æ–ø—É—Å—Ç–∏–º–æ–º –ø–ª–µ—á–µ', '# If error about invalid leverage'),
    (r'# –î–ª—è –æ—Ç–∫—Ä—ã—Ç—ã—Ö –ø–æ–∑–∏—Ü–∏–π –º–æ–∂–Ω–æ —Ç–æ–ª—å–∫–æ —É–≤–µ–ª–∏—á–∏–≤–∞—Ç—å –ø–ª–µ—á–æ', '# For open positions, leverage can only be increased'),
    (r'# –ü—Ä–æ–±—É–µ–º —É–≤–µ–ª–∏—á–∏—Ç—å –ø–ª–µ—á–æ', '# Trying to increase leverage'),
    (r'# –ü—Ä–æ–±—É–µ–º —É–≤–µ–ª–∏—á–∏—Ç—å –ø–ª–µ—á–æ, –Ω–∞—á–∏–Ω–∞—è —Å leverage \+ 1 –¥–æ max_leverage', '# Trying to increase leverage, starting from leverage + 1 to max_leverage'),
    (r'# –ù–µ—Ç –æ—Ç–∫—Ä—ã—Ç–æ–π –ø–æ–∑–∏—Ü–∏–∏ - –ø—Ä–æ–±—É–µ–º —É–º–µ–Ω—å—à–∏—Ç—å –ø–ª–µ—á–æ', '# No open position - trying to decrease leverage'),
    (r'# –ü—Ä–æ–±—É–µ–º —É–º–µ–Ω—å—à–∏—Ç—å –ø–ª–µ—á–æ, –Ω–∞—á–∏–Ω–∞—è —Å leverage - 1 –¥–æ 1', '# Trying to decrease leverage, starting from leverage - 1 to 1'),
    (r'# –ï—Å–ª–∏ –æ—à–∏–±–∫–∞ –æ –Ω–µ–¥–æ–ø—É—Å—Ç–∏–º–æ–º –ø–ª–µ—á–µ - –ø—Ä–æ–±—É–µ–º —É–º–µ–Ω—å—à–∏—Ç—å', '# If error about invalid leverage - trying to decrease'),
    (r'# –û–±–Ω–æ–≤–ª—è–µ–º —Ç–µ–∫—É—â–µ–µ –ø–ª–µ—á–æ –¥–ª—è —ç—Ç–æ–≥–æ —Ä—ã–Ω–∫–∞', '# Updating current leverage for this market'),
    (r'# –í –±—ã—Å—Ç—Ä–æ–º —Ä–µ–∂–∏–º–µ –∏—Å–ø–æ–ª—å–∑—É–µ–º –∫–æ—Ä–æ—Ç–∫–∏–µ –∑–∞–¥–µ—Ä–∂–∫–∏: 2, 4, 8 —Å–µ–∫—É–Ω–¥', '# In fast mode using short delays: 2, 4, 8 seconds'),
    (r'# –í –æ–±—ã—á–Ω–æ–º —Ä–µ–∂–∏–º–µ: 3, 6, 12 —Å–µ–∫—É–Ω–¥ \(–º–µ–Ω—å—à–µ, —á–µ–º –±—ã–ª–æ\)', '# In normal mode: 3, 6, 12 seconds (less than before)'),
    (r'# –ú–∞–∫—Å–∏–º—É–º 10 —Å–µ–∫—É–Ω–¥', '# Maximum 10 seconds'),
    (r'# –ú–∞–∫—Å–∏–º—É–º 15 —Å–µ–∫—É–Ω–¥', '# Maximum 15 seconds'),
    (r'# –î–ª—è –¥—Ä—É–≥–∏—Ö –æ—à–∏–±–æ–∫ –Ω–µ –¥–µ–ª–∞–µ–º –ø–æ–≤—Ç–æ—Ä–Ω—ã–µ –ø–æ–ø—ã—Ç–∫–∏', '# For other errors not doing retries'),
    (r'# –°–æ–≥–ª–∞—Å–Ω–æ SDK: PriceInfo –∏–º–µ–µ—Ç –ø–æ–ª–µ \'mark\', –∞ –Ω–µ \'mark_price\'', '# According to SDK: PriceInfo has field \'mark\', not \'mark_price\''),
    (r'# –ü—Ä–æ–≤–µ—Ä—è–µ–º —Ä–∞–∑–Ω—ã–µ –ø–æ–ª—è –¥–ª—è —Ü–µ–Ω—ã', '# Checking different fields for price'),
    (r'# Funding rate –º–æ–∂–µ—Ç –±—ã—Ç—å –≤ —Ä–∞–∑–Ω—ã—Ö —Ñ–æ—Ä–º–∞—Ç–∞—Ö:', '# Funding rate can be in different formats:'),
    (r'# - –ö–∞–∫ –¥–µ—Å—è—Ç–∏—á–Ω–∞—è –¥—Ä–æ–±—å: -0\.0003 = -0\.03%', '# - As decimal fraction: -0.0003 = -0.03%'),
    (r'# - –ö–∞–∫ –ø—Ä–æ—Ü–µ–Ω—Ç: -0\.000003 = -0\.0003%', '# - As percentage: -0.000003 = -0.0003%'),
    (r'# –ü—Ä–æ–≤–µ—Ä—è–µ–º –∑–Ω–∞—á–µ–Ω–∏–µ', '# Checking value'),
    (r'# –õ–æ–≥–∏—Ä—É–µ–º –≤ –ø—Ä–æ—Ü–µ–Ω—Ç–∞—Ö –¥–ª—è —É–¥–æ–±—Å—Ç–≤–∞', '# Logging in percentages for convenience'),
    (r'# SHORT - –ø–æ–ª—É—á–∞–µ–º funding', '# SHORT - receiving funding'),
    (r'# LONG - –ø–æ–ª—É—á–∞–µ–º funding', '# LONG - receiving funding'),
    (r'# –û—á–∏—Å—Ç–∫–∞ –ø–µ—Ä–µ–¥ –Ω–æ–≤–æ–π —Å–¥–µ–ª–∫–æ–π: –∑–∞–∫—Ä—ã–≤–∞–µ–º –≤—Å–µ –ø–æ–∑–∏—Ü–∏–∏ –∏ –æ—Ç–º–µ–Ω—è–µ–º –≤—Å–µ –æ—Ä–¥–µ—Ä–∞', '# Cleanup before new trade: closing all positions and cancelling all orders'),
    (r'# –ü—Ä–æ–≤–µ—Ä—è–µ–º –æ–±—ä–µ–º –ø–µ—Ä–µ–¥ –Ω–∞—á–∞–ª–æ–º —Ü–∏–∫–ª–∞', '# Checking volume before cycle start'),
    (r'# –í—ã–±–æ—Ä —Ä—ã–Ω–∫–∞', '# Selecting market'),
    (r'# –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è', '# Determining direction'),
    (r'# –ò—Å–ø–æ–ª—å–∑—É–µ–º –∫–µ—à–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –±–∞–ª–∞–Ω—Å –∏–ª–∏ –ø–æ–ª—É—á–∞–µ–º –Ω–æ–≤—ã–π', '# Using cached balance or getting new one'),
    (r'# –†–∞—Å—á–µ—Ç —Ä–∞–∑–º–µ—Ä–∞ –ø–æ–∑–∏—Ü–∏–∏', '# Calculating position size'),
    (r'# –ü–æ–ª—É—á–∞–µ–º –ø—Ä–æ—Ü–µ–Ω—Ç –æ—Ç –±–∞–ª–∞–Ω—Å–∞ –¥–ª—è –ø–æ–∑–∏—Ü–∏–∏ \(–ë–ï–ó —É—á–µ—Ç–∞ –ø–ª–µ—á–∞\)', '# Getting percentage of balance for position (WITHOUT leverage)'),
    (r'# –†–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ–º —Ä–∞–∑–º–µ—Ä –ø–æ–∑–∏—Ü–∏–∏ –≤ USD \(–ë–ï–ó –ø–ª–µ—á–∞\)', '# Calculating position size in USD (WITHOUT leverage)'),
    (r'# position_percent - —ç—Ç–æ –ø—Ä–æ—Ü–µ–Ω—Ç –æ—Ç –±–∞–ª–∞–Ω—Å–∞, –∫–æ—Ç–æ—Ä—ã–π –º—ã –∏—Å–ø–æ–ª—å–∑—É–µ–º', '# position_percent is percentage of balance that we use'),
    (r'# –ö–æ–º–∏—Å—Å–∏–∏ \(maker ~0\.02%, taker ~0\.05%\)', '# Fees (maker ~0.02%, taker ~0.05%)'),
    (r'# 5% –∑–∞–ø–∞—Å –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏', '# 5% safety buffer'),
    (r'# –£—á–∏—Ç—ã–≤–∞–µ–º –∫–æ–º–∏—Å—Å–∏–∏ –∏ –∑–∞–ø–∞—Å –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏', '# Accounting for fees and safety buffer'),
    (r'# –ö–æ–º–∏—Å—Å–∏—è –±–µ—Ä—ë—Ç—Å—è –¥–≤–∞–∂–¥—ã \(–æ—Ç–∫—Ä—ã—Ç–∏–µ \+ –∑–∞–∫—Ä—ã—Ç–∏–µ\)', '# Fee is taken twice (opening + closing)'),
    (r'# –í—ã—á–∏—Ç–∞–µ–º –∫–æ–º–∏—Å—Å–∏–∏ –∏–∑ –¥–æ—Å—Ç—É–ø–Ω–æ–≥–æ –±–∞–ª–∞–Ω—Å–∞', '# Subtracting fees from available balance'),
    (r'# –û–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ–º —Ä–∞–∑–º–µ—Ä –ø–æ–∑–∏—Ü–∏–∏ \(–ë–ï–ó –ø–ª–µ—á–∞\)', '# Limiting position size (WITHOUT leverage)'),
    (r'# –ü—Ä–∏–º–µ–Ω—è–µ–º –ø–ª–µ—á–æ –¥–ª—è —Ä–∞—Å—á–µ—Ç–∞ —Ä–µ–∞–ª—å–Ω–æ–≥–æ —Ä–∞–∑–º–µ—Ä–∞ –ø–æ–∑–∏—Ü–∏–∏ –Ω–∞ –±–∏—Ä–∂–µ', '# Applying leverage to calculate real position size on exchange'),
    (r'# position_size_base - —ç—Ç–æ —Å–∫–æ–ª—å–∫–æ USD –º—ã –∏—Å–ø–æ–ª—å–∑—É–µ–º –∏–∑ –±–∞–ª–∞–Ω—Å–∞', '# position_size_base is how much USD we use from balance'),
    (r'# position_size_usd - —ç—Ç–æ —Ä–∞–∑–º–µ—Ä –ø–æ–∑–∏—Ü–∏–∏ –Ω–∞ –±–∏—Ä–∂–µ \(—Å –ø–ª–µ—á–æ–º\)', '# position_size_usd is position size on exchange (with leverage)'),
    (r'# –ü—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ —É –Ω–∞—Å –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –±–∞–ª–∞–Ω—Å–∞', '# Checking that we have enough balance'),
    (r'# –£–º–µ–Ω—å—à–∞–µ–º –ø—Ä–æ—Ü–µ–Ω—Ç –ø–æ–∑–∏—Ü–∏–∏, –µ—Å–ª–∏ –Ω–µ —Ö–≤–∞—Ç–∞–µ—Ç –±–∞–ª–∞–Ω—Å–∞', '# Decreasing position percentage if not enough balance'),
    (r'# –ù–µ–±–æ–ª—å—à–∞—è –∑–∞–¥–µ—Ä–∂–∫–∞, —á—Ç–æ–±—ã –ø–æ–∑–∏—Ü–∏—è —Ç–æ—á–Ω–æ –ø–æ—è–≤–∏–ª–∞—Å—å –≤ —Å–∏—Å—Ç–µ–º–µ', '# Small delay so position definitely appears in system'),
    (r'# –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º TP/SL —á–µ—Ä–µ–∑ API', '# Setting TP/SL via API'),
    (r'# –°—Ç–æ—Ä–æ–Ω–∞ –ø–æ–∑–∏—Ü–∏–∏ \(bid –¥–ª—è LONG, ask –¥–ª—è SHORT\)', '# Position side (bid for LONG, ask for SHORT)'),
    (r'# –£–¥–µ—Ä–∂–∞–Ω–∏–µ –ø–æ–∑–∏—Ü–∏–∏ \(—Ä–∞–Ω–¥–æ–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –≤—Ä–µ–º—è\)', '# Holding position (randomized time)'),
    (r'# –ó–∞–∫—Ä—ã—Ç–∏–µ –ø–æ–∑–∏—Ü–∏–∏', '# Closing position'),
    (r'# –ñ–¥—ë–º –∑–∞–∫—Ä—ã—Ç–∏—è –∏ –ø–æ–ª—É—á–∞–µ–º —Ü–µ–Ω—É –∑–∞–∫—Ä—ã—Ç–∏—è', '# Waiting for closing and getting closing price'),
    (r'# –ù–µ–±–æ–ª—å—à–∞—è –∑–∞–¥–µ—Ä–∂–∫–∞ –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –ø–æ–∑–∏—Ü–∏–π', '# Small delay for updating positions'),
    (r'# –î–ª—è —Ä—ã–Ω–æ—á–Ω—ã—Ö –æ—Ä–¥–µ—Ä–æ–≤ - –æ–Ω–∏ –∏—Å–ø–æ–ª–Ω—è—é—Ç—Å—è —Å—Ä–∞–∑—É', '# For market orders - they execute immediately'),
    (r'# –ù–µ–±–æ–ª—å—à–∞—è –∑–∞–¥–µ—Ä–∂–∫–∞ –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏', '# Small delay for processing'),
    (r'# –ü—Ä–æ–≤–µ—Ä—è–µ–º –ø–æ–∑–∏—Ü–∏–∏ –¥–ª—è market –æ—Ä–¥–µ—Ä–∞', '# Checking positions for market order'),
    (r'# –î–ª—è –ª–∏–º–∏—Ç–Ω—ã—Ö –æ—Ä–¥–µ—Ä–æ–≤ - –ø—Ä–æ–≤–µ—Ä—è–µ–º —Ä–µ–≥—É–ª—è—Ä–Ω–æ', '# For limit orders - checking regularly'),
    (r'# –ü—Ä–æ–≤–µ—Ä—è–µ–º –∫–∞–∂–¥—ã–µ 5 —Å–µ–∫—É–Ω–¥', '# Checking every 5 seconds'),
    (r'# –õ–æ–≥–∏—Ä—É–µ–º –ø—Ä–æ–≥—Ä–µ—Å—Å –∫–∞–∂–¥—ã–µ 15 —Å–µ–∫—É–Ω–¥', '# Logging progress every 15 seconds'),
    (r'# –ï—Å–ª–∏ –Ω–µ –∏—Å–ø–æ–ª–Ω–∏–ª—Å—è –∑–∞ –æ—Ç–≤–µ–¥—ë–Ω–Ω–æ–µ –≤—Ä–µ–º—è - –æ—Ç–º–µ–Ω—è–µ–º –æ—Ä–¥–µ—Ä', '# If not executed within allotted time - cancelling order'),
    (r'# –°–æ–≥–ª–∞—Å–Ω–æ –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ–π –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ Pacifica:', '# According to official Pacifica documentation:'),
    (r'# –ü—Ä–æ–≤–µ—Ä—è–µ—Ç:', '# Checks:'),
    (r'# 1\. Get open orders - –æ—Ç–∫—Ä—ã—Ç—ã–µ –æ—Ä–¥–µ—Ä–∞', '# 1. Get open orders - open orders'),
    (r'# 2\. Get account positions - –æ—Ç–∫—Ä—ã—Ç—ã–µ –ø–æ–∑–∏—Ü–∏–∏', '# 2. Get account positions - open positions'),
    (r'# 3\. Get order history by ID - –∏—Å—Ç–æ—Ä–∏—è –æ—Ä–¥–µ—Ä–∞', '# 3. Get order history by ID - order history'),
    (r'# –ü–æ–ª—É—á–∞–µ–º order_id –∏–∑ –æ—Ç–≤–µ—Ç–∞', '# Getting order_id from response'),
    (r'# Fallback: –ø—Ä–æ–±—É–µ–º –ø–æ–ª—É—á–∏—Ç—å —á–µ—Ä–µ–∑ markets \(–µ—Å–ª–∏ –µ—Å—Ç—å mark_price\)', '# Fallback: trying to get via markets (if mark_price exists)'),
    (r'# –°—Ç–æ—Ä–æ–Ω–∞ –¥–ª—è —Å—Ç–æ–ø-–æ—Ä–¥–µ—Ä–æ–≤ \(–ø—Ä–æ—Ç–∏–≤–æ–ø–æ–ª–æ–∂–Ω–∞—è –ø–æ–∑–∏—Ü–∏–∏\)', '# Side for stop orders (opposite to position)'),
    (r'# –ù–µ –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è', '# Not showing negative values'),
    (r'# –í—ã—á–∏—Å–ª—è–µ–º –º–∞–∫—Å–∏–º–∞–ª—å–Ω—É—é —à–∏—Ä–∏–Ω—É ASCII-–∞—Ä—Ç–∞ –∏ –Ω–æ—Ä–º–∞–ª–∏–∑—É–µ–º –≤—Å–µ —Å—Ç—Ä–æ–∫–∏ –¥–æ —ç—Ç–æ–π —à–∏—Ä–∏–Ω—ã', '# Calculating maximum width of ASCII art and normalizing all lines to this width'),
    (r'# –û—Ç—Å—Ç—É–ø—ã –ø–æ 1 —Å–∏–º–≤–æ–ª—É —Å –∫–∞–∂–¥–æ–π —Å—Ç–æ—Ä–æ–Ω—ã', '# Padding of 1 character on each side'),
    (r'# \+2 –¥–ª—è –≥—Ä–∞–Ω–∏—Ü ‚ïë', '# +2 for borders ‚ïë'),
    (r'# –§—É–Ω–∫—Ü–∏—è –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Å—Ç—Ä–æ–∫–∏ —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º –≤—ã—Ä–∞–≤–Ω–∏–≤–∞–Ω–∏–µ–º', '# Function for creating line with correct alignment'),
    (r'# –£–±–∏—Ä–∞–µ–º –ª–∏—à–Ω–∏–µ –ø—Ä–æ–±–µ–ª—ã —Å–ø—Ä–∞–≤–∞', '# Removing extra spaces on right'),
    (r'# –í—ã–≤–æ–¥–∏–º ASCII-–∞—Ä—Ç GOATHAM DAO', '# Displaying ASCII art GOATHAM DAO'),
    (r'# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–ª–µ—á–∞ \(–∏—Å–ø–æ–ª—å–∑—É–µ–º —Ä–∞–Ω–¥–æ–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ\)', '# Setting leverage (using randomized value)'),
    (r'# –ü—Ä–æ–≤–µ—Ä—è–µ–º –º–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–µ –ø–ª–µ—á–∏ –¥–ª—è –≤—Å–µ—Ö —Ä—ã–Ω–∫–æ–≤ –∏ –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä—É–µ–º —Ç–µ–∫—É—â–µ–µ –ø–ª–µ—á–æ', '# Checking maximum leverages for all markets and adjusting current leverage'),
    (r'# –ï—Å–ª–∏ —Ç–µ–∫—É—â–µ–µ –ø–ª–µ—á–æ –ø—Ä–µ–≤—ã—à–∞–µ—Ç –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ - –æ–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ–º', '# If current leverage exceeds minimum maximum - limiting'),
    (r'# –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –ø–ª–µ—á–æ –¥–ª—è –≤—Å–µ—Ö —Ä—ã–Ω–∫–æ–≤', '# Setting leverage for all markets'),
    (r'# –ó–∞–¥–µ—Ä–∂–∫–∞ –º–µ–∂–¥—É –∑–∞–ø—Ä–æ—Å–∞–º–∏', '# Delay between requests'),
    (r'# –ü–æ–ª—É—á–µ–Ω–∏–µ –±–∞–ª–∞–Ω—Å–∞ \(—Å –ø–æ–≤—Ç–æ—Ä–Ω—ã–º–∏ –ø–æ–ø—ã—Ç–∫–∞–º–∏\)', '# Getting balance (with retries)'),
    (r'# CloudFront –º–æ–∂–µ—Ç –±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å –∑–∞–ø—Ä–æ—Å—ã –∏–∑-–∑–∞ rate limiting', '# CloudFront may block requests due to rate limiting'),
    (r'# –î–æ–±–∞–≤–ª—è–µ–º –∑–∞–¥–µ—Ä–∂–∫–∏ –∏ —É–≤–µ–ª–∏—á–∏–≤–∞–µ–º –≤—Ä–µ–º—è –º–µ–∂–¥—É –ø–æ–ø—ã—Ç–∫–∞–º–∏', '# Adding delays and increasing time between attempts'),
    (r'# –ó–∞–¥–µ—Ä–∂–∫–∞ –ø–µ—Ä–µ–¥ –∑–∞–ø—Ä–æ—Å–æ–º \(–∏–∑–±–µ–≥–∞–µ–º rate limiting\)', '# Delay before request (avoiding rate limiting)'),
    (r'# –ú–∞–∫—Å–∏–º—É–º 30 —Å–µ–∫—É–Ω–¥', '# Maximum 30 seconds'),
    (r'# –û—Å–Ω–æ–≤–Ω–æ–π —Ü–∏–∫–ª', '# Main cycle'),
    (r'# –ü—Ä–æ–≤–µ—Ä—è–µ–º –≤–æ–∑–≤—Ä–∞—â–∞–µ–º–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ trading_cycle', '# Checking returned value from trading_cycle'),
    (r'# –ï—Å–ª–∏ –æ–±—ä–µ–º –¥–æ—Å—Ç–∏–≥–Ω—É—Ç, –≤—ã—Ö–æ–¥–∏–º –∏–∑ —Ü–∏–∫–ª–∞', '# If volume reached, exiting cycle'),
    (r'# –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞', '# Statistics'),
    (r'# –ó–∞–¥–µ—Ä–∂–∫–∞ \(—Ä–∞–Ω–¥–æ–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è\)', '# Delay (randomized)'),
    (r'# –¶–µ–ª–µ–≤–æ–π –æ–±—ä–µ–º –¥–æ—Å—Ç–∏–≥–Ω—É—Ç - –∑–∞–∫—Ä—ã–≤–∞–µ–º –≤—Å–µ –ø–æ–∑–∏—Ü–∏–∏ –∏ –æ—Ç–º–µ–Ω—è–µ–º –æ—Ä–¥–µ—Ä–∞', '# Target volume reached - closing all positions and cancelling orders'),
    (r'# –°–Ω–∞—á–∞–ª–∞ –æ—Ç–º–µ–Ω—è–µ–º –≤—Å–µ –æ—Ä–¥–µ—Ä–∞', '# First cancelling all orders'),
    (r'# –ó–∞—Ç–µ–º –∑–∞–∫—Ä—ã–≤–∞–µ–º –≤—Å–µ –ø–æ–∑–∏—Ü–∏–∏', '# Then closing all positions'),
    (r'# –§–∏–Ω–∞–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ - —É–±–µ–∂–¥–∞–µ–º—Å—è, —á—Ç–æ –≤—Å–µ –∑–∞–∫—Ä—ã—Ç–æ', '# Final check - making sure everything is closed'),
    (r'# –û—Ç–º–µ–Ω—è–µ–º –≤—Å–µ –æ—Å—Ç–∞–≤—à–∏–µ—Å—è –æ—Ä–¥–µ—Ä–∞ –µ—â–µ —Ä–∞–∑', '# Cancelling all remaining orders once more'),
    (r'# API Agent Keys:', '# API Agent Keys:'),
    (r'# private_key = –ø—Ä–∏–≤–∞—Ç–Ω—ã–π –∫–ª—é—á API Agent \(api_secret\)', '# private_key = API Agent private key (api_secret)'),
    (r'# public_key = –ø—É–±–ª–∏—á–Ω—ã–π –∫–ª—é—á –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –∞–∫–∫–∞—É–Ω—Ç–∞ \(walletaddress/subaccount\)', '# public_key = main account public key (walletaddress/subaccount)'),
    (r'# agent_wallet = –ø—É–±–ª–∏—á–Ω—ã–π –∫–ª—é—á API Agent \(api_key\)', '# agent_wallet = API Agent public key (api_key)'),
    (r'# –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ—à–µ–ª—ë–∫:', '# Main wallet:'),
    (r'# private_key = –ø—Ä–∏–≤–∞—Ç–Ω—ã–π –∫–ª—é—á –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –∫–æ—à–µ–ª—å–∫–∞', '# private_key = main wallet private key'),
    (r'# public_key = –ø—É–±–ª–∏—á–Ω—ã–π –∫–ª—é—á –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –∫–æ—à–µ–ª—å–∫–∞', '# public_key = main wallet public key'),
]

for pattern, replacement in comment_patterns:
    content = re.sub(pattern, replacement, content)

# Write the translated file
with open('pacifica_bot.py', 'w', encoding='utf-8') as f:
    f.write(content)

print("Translation complete! Check pacifica_bot.py")

